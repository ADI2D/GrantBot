<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrantBot Super Admin Panel - Product Requirements Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            border-bottom: 3px solid #1F4788;
            padding-bottom: 30px;
            margin-bottom: 40px;
        }
        
        .header h1 {
            color: #1F4788;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #666;
            font-size: 1.2em;
            font-style: italic;
        }
        
        .doc-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 40px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .doc-info-item {
            display: flex;
            gap: 10px;
        }
        
        .doc-info-label {
            font-weight: bold;
            color: #1F4788;
        }
        
        h1 {
            color: #1F4788;
            font-size: 2em;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #1F4788;
        }
        
        h2 {
            color: #2E5C8A;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        h3 {
            color: #404040;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .highlight-box {
            background: #e8f4f8;
            border-left: 4px solid #1F4788;
            padding: 15px;
            margin: 20px 0;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        th {
            background: #1F4788;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .persona-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #e0e0e0;
        }
        
        .persona-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .persona-avatar {
            width: 80px;
            height: 80px;
            background: #1F4788;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
        }
        
        .epic-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .epic-title {
            color: #1F4788;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .user-story {
            background: #f0f4f8;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .acceptance-criteria {
            background: white;
            padding: 10px;
            margin: 10px 0 10px 20px;
            border-left: 3px solid #28a745;
        }
        
        .priority-high {
            color: #dc3545;
            font-weight: bold;
        }
        
        .priority-medium {
            color: #ffc107;
            font-weight: bold;
        }
        
        .priority-low {
            color: #28a745;
            font-weight: bold;
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin: 30px 0;
        }
        
        .toc h2 {
            margin-top: 0;
        }
        
        .toc ul {
            margin-left: 20px;
        }
        
        .toc a {
            color: #1F4788;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        
        .wireframe-box {
            background: #fff;
            border: 2px dashed #ccc;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            text-align: center;
            color: #999;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>GrantBot Super Admin Panel</h1>
            <div class="subtitle">Product Requirements Document (PRD)</div>
            <div class="subtitle">Internal Platform Administration & Operations</div>
        </div>
        
        <div class="doc-info">
            <div class="doc-info-item">
                <span class="doc-info-label">Product:</span>
                <span>Super Admin Panel (Internal Staff Only)</span>
            </div>
            <div class="doc-info-item">
                <span class="doc-info-label">Owner:</span>
                <span>Product Manager</span>
            </div>
            <div class="doc-info-item">
                <span class="doc-info-label">Status:</span>
                <span>Draft - Ready for Development</span>
            </div>
            <div class="doc-info-item">
                <span class="doc-info-label">Version:</span>
                <span>1.0</span>
            </div>
            <div class="doc-info-item">
                <span class="doc-info-label">Last Updated:</span>
                <span>October 25, 2025</span>
            </div>
            <div class="doc-info-item">
                <span class="doc-info-label">Target Launch:</span>
                <span>Week 5-6 of 90-Day MVP</span>
            </div>
        </div>

        <div class="toc">
            <h2>Table of Contents</h2>
            <ol>
                <li><a href="#executive-summary">Executive Summary</a></li>
                <li><a href="#problem-statement">Problem Statement & Opportunity</a></li>
                <li><a href="#user-requirements">User Requirements & Stories</a></li>
                <li><a href="#functional-requirements">Functional Requirements</a></li>
                <li><a href="#technical-requirements">Technical Requirements</a></li>
                <li><a href="#ux-requirements">User Experience Requirements</a></li>
                <li><a href="#non-functional">Non-Functional Requirements</a></li>
                <li><a href="#success-metrics">Success Metrics & Analytics</a></li>
                <li><a href="#implementation">Implementation Plan</a></li>
                <li><a href="#risks">Risk Assessment & Mitigation</a></li>
            </ol>
        </div>

        <h1 id="executive-summary">1. Executive Summary</h1>
        
        <h2>Product Vision</h2>
        
        <div class="highlight-box">
            <strong>One-Sentence Description:</strong><br>
            A comprehensive internal operations dashboard that empowers GrantBot staff to manage customers, monitor platform health, optimize AI performance, and make data-driven business decisions in real-time.
        </div>
        
        <p><strong>Target Users:</strong> Internal GrantBot staff (2-5 people initially, scaling to 10-15 by year 2)</p>
        <ul>
            <li><strong>Super Admins:</strong> Founders and leadership (full access)</li>
            <li><strong>Support Staff:</strong> Customer success team (customer management, impersonation)</li>
            <li><strong>Developers:</strong> Engineering team (system operations, feature flags, database access)</li>
            <li><strong>Read-Only Users:</strong> Advisors, investors (metrics dashboards only)</li>
        </ul>
        
        <p><strong>Key Differentiator:</strong> Unlike generic admin tools, GrantBot's Super Admin Panel is purpose-built for an AI-powered SaaS, providing unique insights into AI performance, proposal success rates, and cost optimization that directly impact the core product value proposition.</p>
        
        <div class="success-box">
            <strong>Value Proposition:</strong>
            <ul>
                <li><strong>Operational Efficiency:</strong> Reduce support ticket resolution time by 40% through customer impersonation and instant context</li>
                <li><strong>Proactive Churn Prevention:</strong> Identify at-risk customers 14+ days before cancellation using engagement metrics</li>
                <li><strong>Data-Driven Decisions:</strong> Real-time visibility into MRR, proposal volume, AI costs enables rapid iteration</li>
                <li><strong>Product Optimization:</strong> Track which templates perform best, where AI struggles, how to improve success rates</li>
            </ul>
        </div>
        
        <h3>Success Definition & Metrics</h3>
        
        <div class="metric-grid">
            <div class="metric-card">
                <div class="metric-label">Support Resolution Time</div>
                <div class="metric-value">-40%</div>
                <div class="metric-label">From 4.2h to 2.5h average</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Churn Prevention</div>
                <div class="metric-value">+7%</div>
                <div class="metric-label">From 12% to 5% monthly churn</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Dashboard Load Time</div>
                <div class="metric-value">&lt;3s</div>
                <div class="metric-label">Key metrics instantly visible</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Manual Reporting Eliminated</div>
                <div class="metric-value">4hrs/wk</div>
                <div class="metric-label">Saved via automation</div>
            </div>
        </div>

        <h2>Strategic Alignment</h2>
        
        <h3>Business Objectives Supported</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Objective</th>
                    <th>How Super Admin Supports</th>
                    <th>Impact</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Scale to 200 customers by Month 12</strong></td>
                    <td>Efficient customer management prevents support team from becoming bottleneck</td>
                    <td>1 support person can handle 100 customers vs. 30 without tools</td>
                </tr>
                <tr>
                    <td><strong>Maintain <5% churn rate</strong></td>
                    <td>At-risk dashboard enables proactive intervention before cancellation</td>
                    <td>Recover 40% of would-be churned customers = +7% retention</td>
                </tr>
                <tr>
                    <td><strong>40%+ grant approval rate</strong></td>
                    <td>AI analytics reveal which templates work, guide prompt optimization</td>
                    <td>Improve success rate by 5-10% over 6 months through iteration</td>
                </tr>
                <tr>
                    <td><strong>Profitability by Month 18</strong></td>
                    <td>AI cost monitoring prevents budget overruns, revenue dashboard shows path to profitability</td>
                    <td>Keep AI costs under $2/proposal, optimize margins</td>
                </tr>
            </tbody>
        </table>
        
        <h3>User Problems Solved</h3>
        
        <div class="epic-card">
            <div class="epic-title">Problem 1: "I can't help customers without seeing what they see"</div>
            <p><strong>Current State:</strong> Support staff asks customers for screenshots, tries to reproduce issues based on descriptions, wastes 2-3 hours per complex ticket.</p>
            <p><strong>Solution:</strong> One-click customer impersonation lets support log in as any customer, see exact issue, fix immediately. Average resolution time drops from 4.2h to 2.5h.</p>
        </div>
        
        <div class="epic-card">
            <div class="epic-title">Problem 2: "We discover churn after it's too late"</div>
            <p><strong>Current State:</strong> Customer cancels, team scrambles to understand why. Exit interviews reveal customer stopped using product 2+ weeks ago.</p>
            <p><strong>Solution:</strong> At-risk dashboard flags customers with <2 logins in 14 days, enabling proactive outreach before decision to cancel is made.</p>
        </div>
        
        <div class="epic-card">
            <div class="epic-title">Problem 3: "AI costs are a black box"</div>
            <p><strong>Current State:</strong> Claude API bills arrive monthly, team unsure which features drive costs, can't optimize without data.</p>
            <p><strong>Solution:</strong> Real-time AI cost tracking per proposal, per customer, per template. Alerts at $500/$1000/$2000 thresholds enable proactive optimization.</p>
        </div>
        
        <div class="epic-card">
            <div class="epic-title">Problem 4: "Business metrics require manual spreadsheet compilation"</div>
            <p><strong>Current State:</strong> Product Manager spends 4 hours/week exporting Stripe data, database queries, building Excel dashboards. Reports are always 3-7 days stale.</p>
            <p><strong>Solution:</strong> Automated revenue dashboard with real-time MRR, ARR, churn rate, LTV. Leadership makes decisions based on current data, not last week's.</p>
        </div>

        <h2>Resource Requirements</h2>
        
        <h3>Development Effort Estimate</h3>
        <p><strong>Complexity:</strong> Medium-High (role-based access, security-critical, data aggregation)</p>
        <p><strong>Timeline:</strong> 6-8 weeks (2 full-stack developers)</p>
        <p><strong>Total Story Points:</strong> Approximately 120 points (1 point = 1 developer-day)</p>
        
        <h3>Timeline & Key Milestones</h3>
        <table>
            <thead>
                <tr>
                    <th>Week</th>
                    <th>Milestone</th>
                    <th>Deliverable</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Week 1-2</td>
                    <td>Infrastructure & Authentication</td>
                    <td>Separate admin subdomain, 2FA, audit logging, role-based access</td>
                </tr>
                <tr>
                    <td>Week 3-4</td>
                    <td>Customer Management</td>
                    <td>Customer list, detail view, impersonation, search/filters</td>
                </tr>
                <tr>
                    <td>Week 5-6</td>
                    <td>Business Intelligence</td>
                    <td>Revenue dashboard, churn analysis, at-risk alerts</td>
                </tr>
                <tr>
                    <td>Week 7</td>
                    <td>AI Analytics</td>
                    <td>Cost tracking, template performance, quality metrics</td>
                </tr>
                <tr>
                    <td>Week 8</td>
                    <td>Testing & Launch</td>
                    <td>Security audit, UAT with founders, production deployment</td>
                </tr>
            </tbody>
        </table>
        
        <h3>Team Members & Skills Needed</h3>
        <ul>
            <li><strong>2 Full-Stack Developers</strong> - Next.js, React, PostgreSQL, complex queries, Stripe API</li>
            <li><strong>1 UI/UX Designer</strong> - Dashboard design, data visualization, responsive layouts</li>
            <li><strong>1 Product Manager</strong> - Requirements, stakeholder alignment, prioritization</li>
            <li><strong>1 Security Consultant</strong> - Security audit, penetration testing (1 week engagement)</li>
        </ul>
        
        <h3>Budget & Resource Allocation</h3>
        <ul>
            <li><strong>Development:</strong> $15,000 (2 devs × 8 weeks × $937.50/week)</li>
            <li><strong>Design:</strong> $3,000 (dashboards, wireframes, responsive design)</li>
            <li><strong>Security Audit:</strong> $2,500 (external consultant)</li>
            <li><strong>Infrastructure:</strong> $200/month (separate Vercel instance for admin.grantbot.com)</li>
            <li><strong>Monitoring Tools:</strong> $150/month (Sentry for error tracking, Better Uptime)</li>
            <li><strong>Total Investment:</strong> $20,500 one-time + $350/month ongoing</li>
        </ul>

        <h1 id="problem-statement">2. Problem Statement & Opportunity</h1>
        
        <h2>Problem Definition</h2>
        
        <h3>Detailed Pain Points with Evidence</h3>
        
        <div class="highlight-box">
            <h3>Pain Point 1: Inefficient Customer Support (Critical)</h3>
            <p><strong>Current State:</strong> When customers report bugs or issues, support staff can't see the customer's actual experience. They must:</p>
            <ul>
                <li>Ask customer for screenshots (adds 30-60 min wait time)</li>
                <li>Try to reproduce issue based on descriptions (often fails)</li>
                <li>Request additional info through 3-5 back-and-forth emails</li>
                <li>Escalate to developers who also can't see customer view</li>
            </ul>
            
            <p><strong>Quantified Impact:</strong></p>
            <ul>
                <li>Average ticket resolution: 4.2 hours (3.5 hours is information gathering)</li>
                <li>35% of tickets require >2 escalations</li>
                <li>Customer satisfaction (CSAT): 72% vs. industry standard 85%+</li>
                <li>Support cost per ticket: $42 in labor (4.2h × $10/hr blended rate)</li>
            </ul>
            
            <p><strong>Supporting Evidence:</strong></p>
            <ul>
                <li>Support ticket time tracking (last 90 days, n=120 tickets)</li>
                <li>CSAT surveys sent after ticket resolution (response rate 68%)</li>
                <li>Post-resolution interviews with 5 beta customers: "Too many questions, wish they could just see it"</li>
            </ul>
            
            <p><strong>User Quote:</strong> <em>"When a customer says 'the button doesn't work,' I have to ask which button, which page, what browser, send screenshots back and forth... by the time I figure it out, an hour is gone and the customer is frustrated." - Marcus, Support Manager</em></p>
        </div>
        
        <div class="highlight-box">
            <h3>Pain Point 2: Reactive Churn Management (High Priority)</h3>
            <p><strong>Current State:</strong> GrantBot discovers customer dissatisfaction at the worst possible time - when they cancel. By then, it's too late.</p>
            
            <p><strong>Current Churn Journey:</strong></p>
            <ol>
                <li>Customer stops logging in (Day 1-14) - <em>No visibility</em></li>
                <li>Customer becomes frustrated - <em>No outreach</em></li>
                <li>Customer decides to cancel (Day 15-30) - <em>Too late</em></li>
                <li>Cancellation happens (Day 30) - <em>Discovery</em></li>
                <li>Exit survey sent - <em>Post-mortem only</em></li>
            </ol>
            
            <p><strong>Quantified Impact:</strong></p>
            <ul>
                <li>Current monthly churn rate: 12%</li>
                <li>At 100 customers ($475 avg): $5,700 MRR lost monthly = $68,400 annualized</li>
                <li>Customer acquisition cost (CAC): $150 per customer = $1,800/month wasted replacing churned customers</li>
                <li>Industry research: 40% of churn is preventable with proactive engagement</li>
            </ul>
            
            <p><strong>Supporting Evidence:</strong></p>
            <ul>
                <li>Exit survey data (n=18 churned customers over 3 months)</li>
                <li>User activity logs show 65% of churned customers stopped logging in 14+ days before canceling</li>
                <li>78% of churned customers never contacted support before canceling</li>
                <li>Win-back attempts post-cancellation: 15% success rate (too late for 85%)</li>
            </ul>
            
            <p><strong>Opportunity:</strong> If we could identify disengaged users at Day 7-10 instead of Day 30+, we could recover 40% through proactive outreach (email, phone call, special offer).</p>
        </div>
        
        <div class="highlight-box">
            <h3>Pain Point 3: Blind AI Cost Management (Medium Priority)</h3>
            <p><strong>Current State:</strong> Claude API costs are discovered at month-end via Stripe invoice. No per-proposal, per-customer, or per-template visibility.</p>
            
            <p><strong>Specific Issues:</strong></p>
            <ul>
                <li>Can't identify which proposals cost $5 vs. $0.50 (token usage varies 10x)</li>
                <li>No alerts when approaching budget thresholds</li>
                <li>Can't A/B test prompt optimizations to measure cost impact</li>
                <li>Can't attribute costs to specific customers (some may be unprofitable)</li>
            </ul>
            
            <p><strong>Quantified Impact:</strong></p>
            <ul>
                <li>Current AI cost: $1,847/month (284 proposals = $6.50/proposal average)</li>
                <li>Cost range: $0.40 (simple operational grant) to $12.30 (complex foundation proposal)</li>
                <li>Budget at risk: One viral customer could generate $500+ in costs in a weekend</li>
                <li>Optimization opportunity: Prompt engineering could reduce costs 15-25% if we had data to iterate</li>
            </ul>
            
            <p><strong>Supporting Evidence:</strong></p>
            <ul>
                <li>Anthropic invoice detail (shows total cost, not per-call breakdown)</li>
                <li>Manual analysis of 50 proposals: identified 3x cost variance between template types</li>
                <li>Competitor research: Jasper.ai reduced AI costs 40% through monitoring and optimization</li>
            </ul>
        </div>

        <div class="highlight-box">
            <h3>Pain Point 4: Manual Business Reporting (Medium Priority)</h3>
            <p><strong>Current State:</strong> Product Manager manually compiles business metrics every week:</p>
            <ol>
                <li>Export Stripe subscription data to CSV</li>
                <li>Run PostgreSQL queries for user activity</li>
                <li>Copy-paste into Excel spreadsheet</li>
                <li>Calculate MRR, churn, LTV manually</li>
                <li>Email report to founders (by Wednesday, data through previous Friday)</li>
            </ol>
            
            <p><strong>Time Investment:</strong> 4 hours/week = 208 hours/year = $5,200/year in labor</p>
            
            <p><strong>Decision Lag:</strong> Leadership makes decisions based on 3-7 day old data. In a fast-moving startup, this delays pivots and optimizations.</p>
            
            <p><strong>Example Impact:</strong> Starter plan ($249) was underpriced - took 3 weeks to notice LTV was too low, implement price increase to $299. Cost: $5,000 in unrealized revenue.</p>
        </div>

        <h2>Opportunity Analysis</h2>
        
        <h3>Market Context</h3>
        <p><strong>GrantBot's Positioning:</strong> AI-powered grant writing for 88,000+ small U.S. nonprofits with $250K-$1M budgets. Target: $5M ARR within 24 months.</p>
        
        <p><strong>Scaling Requirements:</strong> To reach 200 customers by Month 12 and 500 by Month 24, operational efficiency is critical. Without proper admin tools:</p>
        <ul>
            <li>Support team grows linearly with customers (unsustainable)</li>
            <li>Churn at 12% prevents reaching growth targets</li>
            <li>Slow decision-making causes missed opportunities</li>
        </ul>
        
        <h3>Revenue Impact Model (100 Customers)</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Benefit</th>
                    <th>Current State</th>
                    <th>With Super Admin</th>
                    <th>Annual Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Reduced Churn</strong></td>
                    <td>12% monthly</td>
                    <td>5% monthly (-7%)</td>
                    <td>$39,900 saved MRR loss</td>
                </tr>
                <tr>
                    <td><strong>Support Efficiency</strong></td>
                    <td>4.2h per ticket</td>
                    <td>2.5h per ticket (-40%)</td>
                    <td>$14,400 labor savings</td>
                </tr>
                <tr>
                    <td><strong>Reporting Automation</strong></td>
                    <td>4h/week manual</td>
                    <td>0h automated</td>
                    <td>$5,200 labor savings</td>
                </tr>
                <tr>
                    <td><strong>AI Cost Optimization</strong></td>
                    <td>$22,164/year</td>
                    <td>-20% through monitoring</td>
                    <td>$4,433 cost reduction</td>
                </tr>
                <tr>
                    <td colspan="3"><strong>Total Annual Impact</strong></td>
                    <td><strong>$63,933</strong></td>
                </tr>
            </tbody>
        </table>
        
        <p><strong>ROI Calculation:</strong> $20,500 investment / $63,933 annual benefit = <strong>3.1 month payback period</strong></p>
        <p><em>At scale (200 customers): Annual impact grows to $155,400+ with same one-time investment</em></p>

        <h3>Competitive Advantage</h3>
        
        <p><strong>Why This Matters for GrantBot's Market Position:</strong></p>
        
        <ul>
            <li><strong>Operational Excellence as Differentiator:</strong> Competitors (Instrumentl, GrantStation) focus on databases but provide poor support. GrantBot's superior customer experience (enabled by admin tools) becomes a key differentiator in customer reviews and word-of-mouth referrals.</li>
            
            <li><strong>AI Optimization Moat:</strong> Tracking which proposals succeed creates a feedback loop. GrantBot can improve success rates 5-10% above competitors through data-driven prompt optimization - something competitors without admin analytics can't do.</li>
            
            <li><strong>Scalable Operations:</strong> While competitors hire 1 support person per 30 customers, GrantBot can handle 1:100+ ratio with proper tools. This improves unit economics and allows aggressive growth without margin compression.</li>
        </ul>

        <h2>Success Criteria</h2>
        
        <h3>Primary Success Metrics (6 Months Post-Launch)</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Baseline</th>
                    <th>Target</th>
                    <th>Measurement Method</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Support Ticket Resolution Time</td>
                    <td>4.2 hours average</td>
                    <td>2.5 hours average (-40%)</td>
                    <td>Time tracking in support system</td>
                </tr>
                <tr>
                    <td>Monthly Churn Rate</td>
                    <td>12%</td>
                    <td>5% (-7 points)</td>
                    <td>Stripe subscription data</td>
                </tr>
                <tr>
                    <td>At-Risk Customer Recovery</td>
                    <td>N/A (no system)</td>
                    <td>40% of flagged customers retained</td>
                    <td>At-risk dashboard tracking</td>
                </tr>
                <tr>
                    <td>Dashboard Load Time</td>
                    <td>N/A</td>
                    <td><3 seconds for key metrics</td>
                    <td>Performance monitoring (Lighthouse)</td>
                </tr>
                <tr>
                    <td>Manual Reporting Hours</td>
                    <td>4 hours/week</td>
                    <td>0 hours/week (100% automated)</td>
                    <td>Team time tracking</td>
                </tr>
            </tbody>
        </table>
        
        <h3>Secondary Metrics (Monitor & Improve)</h3>
        <ul>
            <li><strong>Customer Satisfaction (CSAT):</strong> Improve from 72% to 85%+ through faster support</li>
            <li><strong>Impersonation Feature Usage:</strong> 80%+ of support tickets should use impersonation</li>
            <li><strong>AI Cost Per Proposal:</strong> Reduce from $6.50 to $5.20 average (20% improvement) through monitoring</li>
            <li><strong>Admin User Adoption:</strong> All team members log in 3+ times per week</li>
            <li><strong>System Uptime:</strong> 99.9% availability for admin.grantbot.com</li>
        </ul>

        <h1 id="user-requirements">3. User Requirements & Stories</h1>
        
        <h2>Primary User Personas</h2>
        
        <div class="persona-card">
            <div class="persona-header">
                <div class="persona-avatar">👨‍💼</div>
                <div>
                    <h3 style="margin:0; color: #1F4788;">Marcus Rodriguez - Support Manager</h3>
                    <p style="margin:5px 0; color: #666;">Primary Super Admin User</p>
                </div>
            </div>
            
            <table style="margin-top: 15px;">
                <tr>
                    <td style="background: #f0f4f8;"><strong>Age & Background</strong></td>
                    <td>29 years old, 5 years SaaS customer success experience, previously at Zendesk</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Role at GrantBot</strong></td>
                    <td>Customer Success Manager - handles all support tickets, onboarding, churn prevention</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Tech Proficiency</strong></td>
                    <td>High - proficient with CRMs, analytics tools, comfortable with SQL for basic queries</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Daily Workflow</strong></td>
                    <td>Responds to 8-12 support tickets, conducts customer onboarding calls, monitors health scores</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Goals</strong></td>
                    <td>
                        <ul style="margin: 5px 0;">
                            <li>Resolve tickets in <2 hours average</li>
                            <li>Maintain 85%+ CSAT score</li>
                            <li>Prevent churn through proactive outreach</li>
                            <li>Scale support to 200+ customers without burning out</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Pain Points</strong></td>
                    <td>
                        <ul style="margin: 5px 0;">
                            <li>Can't see customer's screen, wastes time gathering context</li>
                            <li>No early warning for customers about to churn</li>
                            <li>Manual billing adjustments require developer intervention</li>
                            <li>Unclear which customers are power users vs. low engagement</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Success Criteria</strong></td>
                    <td>Impersonation feature used in 80%+ of tickets, at-risk alerts checked daily, ticket volume manageable at 100+ customers</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Quote</strong></td>
                    <td><em>"If I could just see what the customer sees for 30 seconds, I'd solve 90% of tickets instantly. Right now I waste 2+ hours per day asking for screenshots."</em></td>
                </tr>
            </table>
        </div>

        <div class="persona-card">
            <div class="persona-header">
                <div class="persona-avatar">👨‍💻</div>
                <div>
                    <h3 style="margin:0; color: #1F4788;">Alex Kim - Founder & CEO</h3>
                    <p style="margin:5px 0; color: #666;">Strategic Super Admin User</p>
                </div>
            </div>
            
            <table style="margin-top: 15px;">
                <tr>
                    <td style="background: #f0f4f8;"><strong>Age & Background</strong></td>
                    <td>36 years old, former nonprofit development director, MBA, technical founder</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Role at GrantBot</strong></td>
                    <td>CEO - sets strategy, manages investors, makes pricing/feature decisions, monitors KPIs</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Tech Proficiency</strong></td>
                    <td>Medium-High - can read code, understands databases, proficient with business analytics tools</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Daily Workflow</strong></td>
                    <td>Checks key metrics (MRR, churn, proposal volume), customer development calls, product roadmap planning</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Goals</strong></td>
                    <td>
                        <ul style="margin: 5px 0;">
                            <li>Reach $100K MRR by Month 12</li>
                            <li>Prove 40%+ grant success rate to market</li>
                            <li>Maintain <$2 AI cost per proposal for profitability</li>
                            <li>Make data-driven product decisions weekly</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Pain Points</strong></td>
                    <td>
                        <ul style="margin: 5px 0;">
                            <li>Waits days for manual reports, decisions lag behind market</li>
                            <li>AI costs are black box, can't optimize effectively</li>
                            <li>No visibility into which templates/features drive retention</li>
                            <li>Can't prove product-market fit to investors without data</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Success Criteria</strong></td>
                    <td>Real-time dashboard accessible from phone, AI cost alerts prevent budget overruns, can generate investor reports in <5 minutes</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Quote</strong></td>
                    <td><em>"I need to know our MRR, churn, and proposal success rate every morning. Right now I get a stale Excel file once a week - that's not how you run a startup."</em></td>
                </tr>
            </table>
        </div>

        <div class="persona-card">
            <div class="persona-header">
                <div class="persona-avatar">💻</div>
                <div>
                    <h3 style="margin:0; color: #1F4788;">Priya Singh - Lead Developer</h3>
                    <p style="margin:5px 0; color: #666;">Technical Super Admin User</p>
                </div>
            </div>
            
            <table style="margin-top: 15px;">
                <tr>
                    <td style="background: #f0f4f8;"><strong>Age & Background</strong></td>
                    <td>31 years old, 7 years full-stack development, expertise in Next.js, PostgreSQL, AI integration</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Role at GrantBot</strong></td>
                    <td>Lead Engineer - builds features, maintains infrastructure, deploys code, debugs production issues</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Tech Proficiency</strong></td>
                    <td>Expert - writes code daily, manages AWS/Vercel, optimizes database queries</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Daily Workflow</strong></td>
                    <td>Feature development, code reviews, production monitoring, investigating error alerts</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Goals</strong></td>
                    <td>
                        <ul style="margin: 5px 0;">
                            <li>99.9% platform uptime</li>
                            <li>Ship features without breaking production</li>
                            <li>Optimize database for <50ms query times</li>
                            <li>Gradually roll out risky features with feature flags</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Pain Points</strong></td>
                    <td>
                        <ul style="margin: 5px 0;">
                            <li>No safe way to test features with subset of users</li>
                            <li>Production errors discovered by customers, not monitoring</li>
                            <li>Slow database queries identified only when customer complains</li>
                            <li>Can't quickly disable buggy features without code deploy</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Success Criteria</strong></td>
                    <td>Feature flags control 100% of new features, error alerts catch issues before customers report them, slow query monitoring identifies optimization opportunities</td>
                </tr>
                <tr>
                    <td style="background: #f0f4f8;"><strong>Quote</strong></td>
                    <td><em>"I need feature flags so I can roll out new AI prompts to 10% of users first. If it breaks, I want to disable it instantly without deploying code at 2am."</em></td>
                </tr>
            </table>
        </div>

        <h2>Core User Epics</h2>
        
        <div class="epic-card">
            <div class="epic-title">Epic 1: Customer Management & Support</div>
            <p><strong>Goal:</strong> Enable support staff to efficiently manage, understand, and assist customers</p>
            <p><strong>User:</strong> Marcus (Support Manager)</p>
            <p><strong>Priority:</strong> <span class="priority-high">Critical - Must Have for MVP</span></p>
            
            <div class="user-story">
                <strong>Story 1.1:</strong> As a support manager, I want to see a searchable list of all customers so I can quickly find any customer's account.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Table displays all customers with org name, plan tier, status, last login</li>
                        <li>AC2: Search bar filters by org name, email, or customer ID in real-time</li>
                        <li>AC3: Filters available for: Plan tier, Status (Active/Trial/Past Due), Signup date range</li>
                        <li>AC4: Table supports sorting by any column</li>
                        <li>AC5: Pagination or infinite scroll for >100 customers</li>
                        <li>AC6: Load time <2 seconds for 500 customer list</li>
                    </ul>
                    <strong>Estimation:</strong> 8 story points (2 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 1.2:</strong> As a support manager, I want to view complete customer details so I understand their account context before helping them.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Customer detail page shows: account info, subscription details, usage stats, engagement metrics</li>
                        <li>AC2: Proposal history displayed with dates, templates used, export actions</li>
                        <li>AC3: Support ticket history integrated (last 10 tickets with status and resolution)</li>
                        <li>AC4: Internal notes section allows support staff to add context visible only to team</li>
                        <li>AC5: Quick action buttons: Impersonate, Email Customer, Edit Plan, Refund</li>
                        <li>AC6: Page loads in <1.5 seconds</li>
                    </ul>
                    <strong>Estimation:</strong> 13 story points (3 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 1.3:</strong> As a support manager, I want to impersonate any customer so I can see exactly what they see and diagnose issues instantly.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: "Impersonate" button opens new tab logged in as that customer</li>
                        <li>AC2: Prominent banner at top: "⚠️ IMPERSONATING: [Org Name] | Exit Impersonation"</li>
                        <li>AC3: All actions logged to audit trail with timestamp, admin user, customer ID</li>
                        <li>AC4: Impersonation session expires after 1 hour for security</li>
                        <li>AC5: Customer receives email notification when impersonation begins (optional toggle)</li>
                        <li>AC6: Only users with "Support" or "Super Admin" role can impersonate</li>
                    </ul>
                    <strong>Estimation:</strong> 21 story points (5 days - complex security requirements)
                </div>
            </div>
        </div>

        <div class="epic-card">
            <div class="epic-title">Epic 2: Business Intelligence & Revenue Analytics</div>
            <p><strong>Goal:</strong> Provide real-time visibility into business metrics for data-driven decisions</p>
            <p><strong>User:</strong> Alex (Founder/CEO)</p>
            <p><strong>Priority:</strong> <span class="priority-high">Critical - Must Have for MVP</span></p>
            
            <div class="user-story">
                <strong>Story 2.1:</strong> As a founder, I want a real-time revenue dashboard so I can track MRR, churn, and growth without manual reports.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Dashboard displays: Total MRR, MRR by plan tier, MRR growth rate (MoM), ARR projection</li>
                        <li>AC2: Churn metrics: Monthly churn rate, churned MRR this month, churn reasons (from exit surveys)</li>
                        <li>AC3: Graphs show MRR trend over last 12 months</li>
                        <li>AC4: All data updates in real-time (no manual refresh needed)</li>
                        <li>AC5: Dashboard accessible on mobile devices with responsive design</li>
                        <li>AC6: Page load time <3 seconds</li>
                    </ul>
                    <strong>Estimation:</strong> 13 story points (3 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 2.2:</strong> As a founder, I want to identify at-risk customers so I can intervene before they churn.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: "At Risk" dashboard lists customers meeting criteria: <2 logins in 14 days, low proposal usage (<50% of allotment), payment failures</li>
                        <li>AC2: Risk score calculated and displayed (High/Medium/Low)</li>
                        <li>AC3: Suggested actions displayed per customer: "Send engagement email", "Offer onboarding call", "Apply discount code"</li>
                        <li>AC4: Clicking customer name opens detailed view with engagement history</li>
                        <li>AC5: Email template integration allows bulk outreach to at-risk customers</li>
                        <li>AC6: Dashboard updates daily at 8am EST</li>
                    </ul>
                    <strong>Estimation:</strong> 13 story points (3 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 2.3:</strong> As a founder, I want cohort analysis so I understand which customer segments retain best.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Cohort table shows retention by signup month (Month 0, 1, 2, 3, 6, 12)</li>
                        <li>AC2: Cohorts filterable by: Signup source, Plan tier, Nonprofit size</li>
                        <li>AC3: Expansion revenue tracked (upgrades vs downgrades per cohort)</li>
                        <li>AC4: Customer lifetime value (LTV) calculated and displayed per cohort</li>
                        <li>AC5: Export to CSV available for further analysis</li>
                    </ul>
                    <strong>Estimation:</strong> 8 story points (2 days)
                </div>
            </div>
        </div>

        <div class="epic-card">
            <div class="epic-title">Epic 3: AI Performance & Cost Management</div>
            <p><strong>Goal:</strong> Track AI costs, quality metrics, and optimization opportunities</p>
            <p><strong>User:</strong> Alex (Founder) + Priya (Developer)</p>
            <p><strong>Priority:</strong> <span class="priority-high">Critical - Must Have for MVP</span></p>
            
            <div class="user-story">
                <strong>Story 3.1:</strong> As a founder, I want to monitor AI costs in real-time so I can prevent budget overruns.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: AI dashboard shows: Total monthly cost, proposals generated, cost per proposal, budget remaining</li>
                        <li>AC2: Cost breakdown by template type (which templates are most/least expensive)</li>
                        <li>AC3: Cost breakdown by customer (identify unprofitable customers using excessive tokens)</li>
                        <li>AC4: Alert system sends email when costs hit $500, $1000, $1500, $2000 thresholds</li>
                        <li>AC5: Historical cost trend graph (last 6 months)</li>
                        <li>AC6: Token usage statistics (average tokens per proposal, max tokens, min tokens)</li>
                    </ul>
                    <strong>Estimation:</strong> 13 story points (3 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 3.2:</strong> As a founder, I want to track proposal success rates so I can measure and improve our core value proposition.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Success tracking dashboard shows: Total proposals generated, proposals submitted (user-reported), grants awarded (user-reported), success rate percentage</li>
                        <li>AC2: Success rate by template type (which templates have highest approval rates)</li>
                        <li>AC3: Success rate by customer segment (nonprofit size, sector)</li>
                        <li>AC4: Total funding secured tracked (voluntary user entry)</li>
                        <li>AC5: Time-series graph showing success rate improvement over time</li>
                        <li>AC6: Export success stories for marketing (with customer permission flags)</li>
                    </ul>
                    <strong>Estimation:</strong> 8 story points (2 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 3.3:</strong> As a founder, I want to see AI quality metrics so I know where the AI is performing well vs. struggling.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Post-generation satisfaction ratings displayed (5-star breakdown)</li>
                        <li>AC2: Average editing time per proposal tracked (indicates AI quality)</li>
                        <li>AC3: Most/least edited sections identified (e.g., "Budget sections edited 78% of time")</li>
                        <li>AC4: Template performance leaderboard (highest satisfaction, fastest generation, best success rate)</li>
                        <li>AC5: Qualitative feedback from post-generation surveys displayed</li>
                    </ul>
                    <strong>Estimation:</strong> 8 story points (2 days)
                </div>
            </div>
        </div>

        <div class="epic-card">
            <div class="epic-title">Epic 4: System Operations & Configuration</div>
            <p><strong>Goal:</strong> Enable developers to monitor system health and safely roll out features</p>
            <p><strong>User:</strong> Priya (Lead Developer)</p>
            <p><strong>Priority:</strong> <span class="priority-medium">Should Have - Launch by Week 7</span></p>
            
            <div class="user-story">
                <strong>Story 4.1:</strong> As a developer, I want feature flags so I can gradually roll out new features to subsets of users.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Feature flag management UI lists all flags with on/off toggle</li>
                        <li>AC2: Each flag configurable for: Percentage rollout (0-100%), Specific plan tiers, Specific customer IDs</li>
                        <li>AC3: Feature flags apply instantly without code deployment</li>
                        <li>AC4: Audit log tracks who changed flags and when</li>
                        <li>AC5: API endpoint available for checking flag status in application code</li>
                    </ul>
                    <strong>Estimation:</strong> 13 story points (3 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 4.2:</strong> As a developer, I want system health monitoring so I can catch issues before customers report them.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Database health panel shows: Query response time, slow queries (>1s), connection pool usage, storage capacity</li>
                        <li>AC2: Background job queue status displayed: Active jobs, pending jobs, failed jobs with retry options</li>
                        <li>AC3: Sentry integration shows recent errors with severity (Critical/Warning/Info)</li>
                        <li>AC4: API response time monitoring displayed (p50, p95, p99 percentiles)</li>
                        <li>AC5: Alert configuration: Email/Slack when errors exceed thresholds</li>
                    </ul>
                    <strong>Estimation:</strong> 8 story points (2 days)
                </div>
            </div>
        </div>

        <div class="epic-card">
            <div class="epic-title">Epic 5: Admin User Management & Security</div>
            <p><strong>Goal:</strong> Control access, track actions, maintain security for internal team</p>
            <p><strong>User:</strong> Alex (Founder) + Priya (Developer)</p>
            <p><strong>Priority:</strong> <span class="priority-high">Critical - Must Have for MVP</span></p>
            
            <div class="user-story">
                <strong>Story 5.1:</strong> As a founder, I want role-based access control so different team members have appropriate permissions.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: Four roles defined: Super Admin (full access), Support (customer management only), Developer (technical tools only), Read-Only (dashboards only)</li>
                        <li>AC2: Permissions matrix clearly documented and enforced in code</li>
                        <li>AC3: Admin users managed via settings page (add, edit role, deactivate)</li>
                        <li>AC4: Each admin user requires 2FA setup before first login</li>
                        <li>AC5: Failed login attempts locked after 5 tries, unlock after 15 minutes</li>
                    </ul>
                    <strong>Estimation:</strong> 13 story points (3 days)
                </div>
            </div>
            
            <div class="user-story">
                <strong>Story 5.2:</strong> As a founder, I want a complete audit log so I know who did what and when.
                
                <div class="acceptance-criteria">
                    <strong>Acceptance Criteria:</strong>
                    <ul>
                        <li>AC1: All sensitive actions logged: Impersonation, billing changes, plan modifications, feature flag changes, customer deletions</li>
                        <li>AC2: Log entries include: Timestamp, admin user, action type, target (customer ID, etc.), IP address, result (success/failure)</li>
                        <li>AC3: Audit log searchable and filterable by date range, admin user, action type</li>
                        <li>AC4: Logs retained for 24 months minimum</li>
                        <li>AC5: Export to CSV available for compliance</li>
                    </ul>
                    <strong>Estimation:</strong> 8 story points (2 days)
                </div>
            </div>
        </div>

        <div class="warning-box">
            <strong>⚠️ Epic Prioritization Note:</strong>
            <p>MVP Launch (Week 6) must include: Customer Management (Epic 1), Business Intelligence (Epic 2), AI Performance (Epic 3), and Security (Epic 5).</p>
            <p>Operations tools (Epic 4) can launch in Week 7 as they're primarily for developer use.</p>
            <p><strong>Total MVP Scope:</strong> ~120 story points = 6 weeks with 2 developers working in parallel (20 points/dev/week velocity)</p>
        </div>

        <h1 id="functional-requirements">4. Functional Requirements</h1>
        
        <h2>Must-Have Features (MVP - Week 6 Launch)</h2>
        
        <h3>Feature Group 1: Customer Management</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Description</th>
                    <th>Key Workflows</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Customer List View</strong></td>
                    <td>Searchable, filterable table of all customers with key information and health indicators</td>
                    <td>
                        <ul>
                            <li>Search by name, email, customer ID</li>
                            <li>Filter by plan, status, signup date</li>
                            <li>Sort by any column</li>
                            <li>Click row to view details</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Customer Detail View</strong></td>
                    <td>Comprehensive profile showing all relevant customer data, usage, and support history</td>
                    <td>
                        <ul>
                            <li>View account information</li>
                            <li>See subscription and billing details</li>
                            <li>Review proposal history</li>
                            <li>Access support ticket history</li>
                            <li>Add internal notes (team only)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Customer Impersonation</strong></td>
                    <td>One-click access to view platform exactly as customer sees it, with audit trail</td>
                    <td>
                        <ul>
                            <li>Click "Impersonate" from customer detail</li>
                            <li>Opens new tab with customer session</li>
                            <li>Prominent warning banner displayed</li>
                            <li>All actions logged to audit trail</li>
                            <li>Session expires after 1 hour</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Manual Billing Actions</strong></td>
                    <td>Support staff can handle billing edge cases without developer intervention</td>
                    <td>
                        <ul>
                            <li>Issue refunds through Stripe</li>
                            <li>Apply credit to account</li>
                            <li>Change plan tier</li>
                            <li>Extend trial period</li>
                            <li>Update payment method</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>

        <h3>Feature Group 2: Business Intelligence</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Description</th>
                    <th>Key Metrics</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Revenue Dashboard</strong></td>
                    <td>Real-time financial metrics replacing manual Excel reports</td>
                    <td>
                        <ul>
                            <li>Total MRR (current month)</li>
                            <li>MRR by plan tier breakdown</li>
                            <li>MRR growth rate (MoM %)</li>
                            <li>ARR projection</li>
                            <li>12-month MRR trend graph</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Churn Analytics</strong></td>
                    <td>Track and understand customer churn patterns</td>
                    <td>
                        <ul>
                            <li>Monthly churn rate %</li>
                            <li>MRR churned this month</li>
                            <li>Churn reasons (from exit surveys)</li>
                            <li>Voluntary vs involuntary churn</li>
                            <li>Churn by plan tier</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>At-Risk Dashboard</strong></td>
                    <td>Proactively identify customers likely to churn</td>
                    <td>
                        <ul>
                            <li>List of at-risk customers</li>
                            <li>Risk score (High/Medium/Low)</li>
                            <li>Risk factors (low engagement, payment failure, support issues)</li>
                            <li>Suggested interventions</li>
                            <li>Outreach tracking</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Cohort Analysis</strong></td>
                    <td>Understand retention by customer segment and signup period</td>
                    <td>
                        <ul>
                            <li>Retention table by signup month</li>
                            <li>Cohorts by source, plan, size</li>
                            <li>LTV by cohort</li>
                            <li>Expansion revenue tracking</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>

        <h3>Feature Group 3: AI Performance</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Description</th>
                    <th>Key Data Points</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>AI Cost Dashboard</strong></td>
                    <td>Monitor Claude API costs in real-time to prevent overruns</td>
                    <td>
                        <ul>
                            <li>Monthly cost total</li>
                            <li>Proposals generated</li>
                            <li>Cost per proposal (average)</li>
                            <li>Budget remaining</li>
                            <li>Cost by template type</li>
                            <li>Cost by customer</li>
                            <li>Alert thresholds ($500/$1K/$1.5K/$2K)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Success Rate Tracking</strong></td>
                    <td>Measure core product value: how many proposals win grants</td>
                    <td>
                        <ul>
                            <li>Total proposals generated</li>
                            <li>Proposals submitted (user-reported)</li>
                            <li>Grants awarded (user-reported)</li>
                            <li>Success rate % (overall)</li>
                            <li>Success rate by template</li>
                            <li>Total funding secured</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>AI Quality Metrics</strong></td>
                    <td>Understand where AI performs well vs. needs improvement</td>
                    <td>
                        <ul>
                            <li>Post-generation satisfaction (5-star ratings)</li>
                            <li>Average editing time per proposal</li>
                            <li>Most/least edited sections</li>
                            <li>Template performance leaderboard</li>
                            <li>Qualitative feedback from surveys</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td><strong>Template Analytics</strong></td>
                    <td>Compare performance across different grant template types</td>
                    <td>
                        <ul>
                            <li>Usage count per template</li>
                            <li>Success rate per template</li>
                            <li>Average generation time</li>
                            <li>Average cost per template</li>
                            <li>User satisfaction per template</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>

        <h2>Should-Have Features (Week 7-8 Post-MVP)</h2>
        
        <h3>Feature Group 4: System Operations</h3>
        
        <ul>
            <li><strong>Feature Flags:</strong> Gradual rollout controls for new features</li>
            <li><strong>Database Health Monitor:</strong> Query performance, slow queries, connection pool</li>
            <li><strong>Job Queue Dashboard:</strong> Background task monitoring and retry</li>
            <li><strong>Error Tracking Integration:</strong> Sentry dashboard within admin panel</li>
            <li><strong>Performance Metrics:</strong> API response times, page load speeds</li>
        </ul>
        
        <h3>Feature Group 5: Configuration Tools</h3>
        
        <ul>
            <li><strong>Pricing Tier Management:</strong> Edit plan prices, limits, features without code deploy</li>
            <li><strong>Email Template Editor:</strong> Customize transactional emails (welcome, billing, etc.)</li>
            <li><strong>Notification Settings:</strong> Configure alert thresholds and recipients</li>
            <li><strong>Integration Management:</strong> API keys, webhook configuration</li>
        </ul>

        <h2>Could-Have Features (v2.0 - Month 4+)</h2>
        
        <ul>
            <li><strong>Advanced Reporting:</strong> Custom report builder, scheduled email reports</li>
            <li><strong>Customer Segmentation:</strong> Create custom segments for targeted campaigns</li>
            <li><strong>A/B Testing Framework:</strong> Test pricing, features, onboarding flows</li>
            <li><strong>Lifecycle Automation:</strong> Automated email campaigns for onboarding, engagement, win-back</li>
            <li><strong>Advanced Analytics:</strong> Funnel analysis, user flow visualization, predictive churn modeling</li>
        </ul>

        <h1 id="technical-requirements">5. Technical Requirements</h1>
        
        <h2>Architecture Specifications</h2>
        
        <h3>System Architecture Overview</h3>
        
        <div class="wireframe-box">
            <p><strong>Architecture Diagram</strong></p>
            <p>admin.grantbot.com (Vercel)</p>
            <p>↓ Authenticates via JWT</p>
            <p>↓ Queries shared PostgreSQL (Railway)</p>
            <p>↓ Stripe API for billing</p>
            <p>↓ Claude API cost data</p>
            <p>↓ Analytics from Mixpanel</p>
        </div>
        
        <h3>Component & Service Definitions</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Component</th>
                    <th>Technology</th>
                    <th>Purpose</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Admin Frontend</strong></td>
                    <td>Next.js 14, React 18, TypeScript, TailwindCSS, shadcn/ui</td>
                    <td>Super Admin UI hosted at admin.grantbot.com subdomain</td>
                </tr>
                <tr>
                    <td><strong>Admin Backend</strong></td>
                    <td>Next.js API Routes, Express middleware</td>
                    <td>API endpoints for admin operations, authentication, data aggregation</td>
                </tr>
                <tr>
                    <td><strong>Shared Database</strong></td>
                    <td>PostgreSQL 15 (Railway)</td>
                    <td>Central data store shared with main app (read-heavy for admin)</td>
                </tr>
                <tr>
                    <td><strong>Admin Auth System</strong></td>
                    <td>NextAuth.js, 2FA via Authy/Google Authenticator</td>
                    <td>Separate authentication for internal staff with enhanced security</td>
                </tr>
                <tr>
                    <td><strong>Audit Log Service</strong></td>
                    <td>PostgreSQL table with streaming to AWS S3 for long-term storage</td>
                    <td>Immutable log of all sensitive admin actions</td>
                </tr>
                <tr>
                    <td><strong>Impersonation Service</strong></td>
                    <td>Temporary JWT with customer_id claim, 1-hour expiration</td>
                    <td>Secure customer impersonation with automatic session cleanup</td>
                </tr>
            </tbody>
        </table>

        <h3>Data Flow & Integration Points</h3>
        
        <div class="highlight-box">
            <strong>Customer Impersonation Flow:</strong>
            <ol>
                <li>Admin clicks "Impersonate" button in customer detail view</li>
                <li>Backend validates admin has "Support" or "Super Admin" role</li>
                <li>Backend generates special JWT with: <code>{ admin_user_id, customer_id, impersonation: true, exp: 1hour }</code></li>
                <li>Log written to audit trail: <code>{ admin_user_id, action: 'impersonate_start', target_customer_id, timestamp, ip_address }</code></li>
                <li>New tab opens at <code>app.grantbot.com?impersonate_token=xyz</code></li>
                <li>Frontend detects impersonation token, displays warning banner, restricts certain actions (can't change billing)</li>
                <li>All page views during impersonation logged for audit</li>
                <li>Session expires after 1 hour or manual "Exit Impersonation" click</li>
            </ol>
        </div>

        <h3>Scalability & Performance Requirements</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Requirement</th>
                    <th>Target</th>
                    <th>Rationale</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Dashboard Load Time (Key Metrics)</td>
                    <td><3 seconds</td>
                    <td>Admin users check dashboard multiple times daily; slow load reduces usage</td>
                </tr>
                <tr>
                    <td>Customer List Query</td>
                    <td><2 seconds for 500 customers</td>
                    <td>Support needs fast customer lookup during live support calls</td>
                </tr>
                <tr>
                    <td>Customer Detail Page</td>
                    <td><1.5 seconds</td>
                    <td>Frequently accessed page; must feel instant</td>
                </tr>
                <tr>
                    <td>Impersonation Activation</td>
                    <td><500ms to generate token</td>
                    <td>Support flow must be seamless to encourage adoption</td>
                </tr>
                <tr>
                    <td>Concurrent Admin Users</td>
                    <td>10 simultaneous</td>
                    <td>Small internal team; scale to 20 by year 2</td>
                </tr>
                <tr>
                    <td>Database Query Optimization</td>
                    <td>All queries <100ms</td>
                    <td>Admin queries often involve aggregations; must be indexed and cached</td>
                </tr>
            </tbody>
        </table>

        <h2>API Requirements</h2>
        
        <h3>Core API Endpoints</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Purpose</th>
                    <th>Auth Required</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>/api/admin/auth/login</code></td>
                    <td>POST</td>
                    <td>Admin user login with 2FA</td>
                    <td>No (public)</td>
                </tr>
                <tr>
                    <td><code>/api/admin/customers</code></td>
                    <td>GET</td>
                    <td>List all customers with filters</td>
                    <td>Support, Super Admin</td>
                </tr>
                <tr>
                    <td><code>/api/admin/customers/:id</code></td>
                    <td>GET</td>
                    <td>Customer detail view</td>
                    <td>Support, Super Admin</td>
                </tr>
                <tr>
                    <td><code>/api/admin/customers/:id/impersonate</code></td>
                    <td>POST</td>
                    <td>Generate impersonation token</td>
                    <td>Support, Super Admin</td>
                </tr>
                <tr>
                    <td><code>/api/admin/customers/:id/refund</code></td>
                    <td>POST</td>
                    <td>Issue Stripe refund</td>
                    <td>Super Admin only</td>
                </tr>
                <tr>
                    <td><code>/api/admin/metrics/revenue</code></td>
                    <td>GET</td>
                    <td>MRR, churn, growth metrics</td>
                    <td>All roles</td>
                </tr>
                <tr>
                    <td><code>/api/admin/metrics/ai-costs</code></td>
                    <td>GET</td>
                    <td>Claude API cost breakdown</td>
                    <td>All roles</td>
                </tr>
                <tr>
                    <td><code>/api/admin/metrics/at-risk</code></td>
                    <td>GET</td>
                    <td>List of at-risk customers</td>
                    <td>Support, Super Admin</td>
                </tr>
                <tr>
                    <td><code>/api/admin/feature-flags</code></td>
                    <td>GET/PUT</td>
                    <td>Manage feature flags</td>
                    <td>Developer, Super Admin</td>
                </tr>
                <tr>
                    <td><code>/api/admin/audit-log</code></td>
                    <td>GET</td>
                    <td>Query audit trail</td>
                    <td>Super Admin only</td>
                </tr>
            </tbody>
        </table>

        <h3>Authentication & Authorization</h3>
        
        <div class="highlight-box">
            <strong>Admin Authentication Flow:</strong>
            <ol>
                <li><strong>Email/Password:</strong> Standard login with bcrypt-hashed passwords (12 rounds)</li>
                <li><strong>2FA Verification:</strong> TOTP (Time-based One-Time Password) via Authy/Google Authenticator required for all admin accounts</li>
                <li><strong>JWT Generation:</strong> 7-day expiration, refresh token for session extension</li>
                <li><strong>Role-Based Access:</strong> JWT payload includes role, checked on every API call via middleware</li>
                <li><strong>IP Whitelist (Optional):</strong> Restrict admin access to office/VPN IPs for enhanced security</li>
                <li><strong>Failed Login Protection:</strong> Lock account after 5 failed attempts, 15-minute cooldown</li>
            </ol>
        </div>

        <h3>Rate Limiting & Error Handling</h3>
        
        <table>
            <thead>
                <tr>
                    <th>API Category</th>
                    <th>Rate Limit</th>
                    <th>Error Response</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Authentication</td>
                    <td>10 requests/minute per IP</td>
                    <td>429 Too Many Requests</td>
                </tr>
                <tr>
                    <td>Read Operations (GET)</td>
                    <td>100 requests/minute per admin user</td>
                    <td>429 with retry-after header</td>
                </tr>
                <tr>
                    <td>Write Operations (POST/PUT)</td>
                    <td>30 requests/minute per admin user</td>
                    <td>429 with retry-after header</td>
                </tr>
                <tr>
                    <td>Impersonation</td>
                    <td>5 requests/minute (prevent abuse)</td>
                    <td>429 + alert to Super Admin</td>
                </tr>
            </tbody>
        </table>

        <h2>Data Requirements</h2>
        
        <h3>Database Schema Additions</h3>
        
        <div class="highlight-box">
            <pre><code>-- Admin users table (separate from customer users)
CREATE TABLE admin_users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  role VARCHAR(50) NOT NULL CHECK (role IN ('super_admin', 'support', 'developer', 'readonly')),
  two_factor_secret VARCHAR(255),
  two_factor_enabled BOOLEAN DEFAULT FALSE,
  is_active BOOLEAN DEFAULT TRUE,
  last_login TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Audit log for all sensitive actions
CREATE TABLE admin_audit_log (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  admin_user_id UUID REFERENCES admin_users(id),
  action VARCHAR(100) NOT NULL,
  target_type VARCHAR(50),
  target_id VARCHAR(255),
  metadata JSONB,
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
CREATE INDEX idx_audit_log_admin ON admin_audit_log(admin_user_id);
CREATE INDEX idx_audit_log_action ON admin_audit_log(action);
CREATE INDEX idx_audit_log_created ON admin_audit_log(created_at);

-- Feature flags
CREATE TABLE feature_flags (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(100) UNIQUE NOT NULL,
  description TEXT,
  is_enabled BOOLEAN DEFAULT FALSE,
  rollout_percentage INTEGER DEFAULT 0 CHECK (rollout_percentage >= 0 AND rollout_percentage <= 100),
  target_plans JSONB,
  target_customer_ids JSONB,
  created_by UUID REFERENCES admin_users(id),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Customer notes (internal only)
CREATE TABLE customer_notes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  customer_id UUID REFERENCES users(id),
  admin_user_id UUID REFERENCES admin_users(id),
  note TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
CREATE INDEX idx_customer_notes_customer ON customer_notes(customer_id);

-- AI cost tracking (for granular analysis)
CREATE TABLE ai_api_calls (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  proposal_id UUID REFERENCES proposals(id),
  customer_id UUID REFERENCES users(id),
  template_id UUID REFERENCES templates(id),
  prompt_tokens INTEGER NOT NULL,
  completion_tokens INTEGER NOT NULL,
  total_tokens INTEGER NOT NULL,
  cost_usd DECIMAL(10,6) NOT NULL,
  model VARCHAR(50) NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
CREATE INDEX idx_ai_calls_customer ON ai_api_calls(customer_id);
CREATE INDEX idx_ai_calls_template ON ai_api_calls(template_id);
CREATE INDEX idx_ai_calls_created ON ai_api_calls(created_at);</code></pre>
        </div>

        <h3>Data Validation & Constraints</h3>
        
        <ul>
            <li><strong>Admin Users:</strong> Email must be valid format, role must be one of 4 defined types, 2FA secret stored encrypted</li>
            <li><strong>Audit Log:</strong> Immutable (no UPDATE/DELETE allowed), required fields: admin_user_id, action, timestamp</li>
            <li><strong>Feature Flags:</strong> rollout_percentage must be 0-100, can't be deleted (only disabled) to preserve history</li>
            <li><strong>Customer Notes:</strong> Note text max 5000 characters, required fields: customer_id, admin_user_id, note</li>
        </ul>

        <h3>Privacy & Security Requirements</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Requirement</th>
                    <th>Implementation</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Data Encryption at Rest</strong></td>
                    <td>PostgreSQL transparent data encryption (TDE) enabled on Railway</td>
                </tr>
                <tr>
                    <td><strong>Data Encryption in Transit</strong></td>
                    <td>All API calls use TLS 1.3, enforce HTTPS only (no HTTP)</td>
                </tr>
                <tr>
                    <td><strong>Audit Log Immutability</strong></td>
                    <td>Database permissions: admin_users can INSERT but not UPDATE/DELETE audit logs</td>
                </tr>
                <tr>
                    <td><strong>PII Access Logging</strong></td>
                    <td>Every customer detail view logged (who accessed, when, why if provided)</td>
                </tr>
                <tr>
                    <td><strong>Data Retention</strong></td>
                    <td>Audit logs retained 24 months minimum, customer data retained per GDPR requirements</td>
                </tr>
                <tr>
                    <td><strong>GDPR Compliance</strong></td>
                    <td>Customer can request data deletion; admin sees "deletion requested" flag before permanently removing</td>
                </tr>
            </tbody>
        </table>

        <h1 id="ux-requirements">6. User Experience Requirements</h1>
        
        <h2>Design Principles</h2>
        
        <div class="success-box">
            <strong>GrantBot Super Admin UX Philosophy:</strong>
            <ul>
                <li><strong>Data-First:</strong> Most important metrics visible without scrolling or clicking</li>
                <li><strong>Action-Oriented:</strong> Every page has clear CTAs (Impersonate, Email Customer, Apply Credit)</li>
                <li><strong>Efficiency Over Beauty:</strong> Prioritize speed and density over whitespace (internal tool, not marketing site)</li>
                <li><strong>Progressive Disclosure:</strong> Show summaries by default, expand for details</li>
                <li><strong>Consistent Patterns:</strong> Reuse UI components, layouts, interactions across all pages</li>
            </ul>
        </div>

        <h2>Design System & Style Guide</h2>
        
        <h3>Color Palette</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Color</th>
                    <th>Hex</th>
                    <th>Usage</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Primary Blue</strong></td>
                    <td>#1F4788</td>
                    <td>Headers, primary buttons, links</td>
                </tr>
                <tr>
                    <td><strong>Secondary Blue</strong></td>
                    <td>#2E5C8A</td>
                    <td>Secondary buttons, subheaders</td>
                </tr>
                <tr>
                    <td><strong>Success Green</strong></td>
                    <td>#10B981</td>
                    <td>Positive metrics, success states, "healthy" indicators</td>
                </tr>
                <tr>
                    <td><strong>Warning Amber</strong></td>
                    <td>#F59E0B</td>
                    <td>At-risk indicators, approaching limits</td>
                </tr>
                <tr>
                    <td><strong>Danger Red</strong></td>
                    <td>#EF4444</td>
                    <td>Errors, critical issues, payment failures</td>
                </tr>
                <tr>
                    <td><strong>Neutral Gray</strong></td>
                    <td>#F3F4F6</td>
                    <td>Backgrounds, borders, disabled states</td>
                </tr>
            </tbody>
        </table>

        <h3>Typography</h3>
        
        <ul>
            <li><strong>Font Family:</strong> Inter (system font, excellent readability for data-heavy interfaces)</li>
            <li><strong>Page Titles:</strong> 28px, Semi-bold, #1F4788</li>
            <li><strong>Section Headers:</strong> 20px, Semi-bold, #2E5C8A</li>
            <li><strong>Body Text:</strong> 14px, Regular, #374151</li>
            <li><strong>Metrics/Numbers:</strong> 32px, Bold, color based on context (green/amber/red)</li>
            <li><strong>Monospace (codes, IDs):</strong> JetBrains Mono, 13px</li>
        </ul>

        <h3>Component Library (shadcn/ui based)</h3>
        
        <ul>
            <li><strong>Buttons:</strong> Primary (filled blue), Secondary (outlined), Danger (filled red), Ghost (text only)</li>
            <li><strong>Cards:</strong> White background, subtle shadow, 8px border radius</li>
            <li><strong>Tables:</strong> Striped rows (alternate light gray), hover effect, sortable headers</li>
            <li><strong>Badges:</strong> Pills for status (Active = green, Trial = blue, Past Due = red, Churned = gray)</li>
            <li><strong>Modals:</strong> Overlay with dark backdrop, slide-in animation, max-width 600px</li>
            <li><strong>Toast Notifications:</strong> Top-right corner, auto-dismiss after 5 seconds, color-coded by type</li>
        </ul>

        <h2>Interface Requirements & Wireframes</h2>
        
        <h3>Dashboard Layout (Landing Page)</h3>
        
        <div class="wireframe-box">
            <strong>Super Admin Dashboard Wireframe</strong>
            <pre>
┌────────────────────────────────────────────────────┐
│  GrantBot Super Admin         🔔 Alerts   👤 Alex │
├────────────────────────────────────────────────────┤
│  Sidebar              │  Main Dashboard           │
│  ─────────           │  ──────────────           │
│  📊 Dashboard        │  KEY METRICS (4 Cards)    │
│  👥 Customers        │  ┌───┬───┬───┬───┐       │
│  💰 Revenue          │  │MRR│C# │P# │SR%│       │
│  🤖 AI Performance   │  └───┴───┴───┴───┘       │
│  ⚙️ Operations       │                           │
│  👤 Team             │  MRR TREND (Graph)        │
│                      │  ▁▂▃▄▅▆▇█                │
│                      │                           │
│                      │  AT-RISK CUSTOMERS (5)    │
│                      │  ⚠️ Acme Nonprofit         │
│                      │  ⚠️ Blue Sky Foundation    │
│                      │  ...                      │
│                      │                           │
│                      │  RECENT ACTIVITY          │
│                      │  • Customer signup        │
│                      │  • Payment failure        │
│                      │  • Support ticket         │
└────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h3>Customer List Page</h3>
        
        <div class="wireframe-box">
            <strong>Customer Management Page Wireframe</strong>
            <pre>
┌────────────────────────────────────────────────────┐
│  Customers                            [+ Add Note] │
├────────────────────────────────────────────────────┤
│  [Search: name, email, ID...]  [Filter ▼] [Sort]  │
├────────────────────────────────────────────────────┤
│ Org Name         │Plan  │Status │Last Login│Actions│
│──────────────────┼──────┼───────┼──────────┼───────│
│ Hope Food Bank   │Growth│Active │2h ago    │View   │
│ 🟢 Healthy       │$499  │       │          │       │
│──────────────────┼──────┼───────┼──────────┼───────│
│ Youth Arts Ctr   │Start │Trial  │Yesterday │View   │
│ 🟡 At Risk       │$249  │       │          │       │
│──────────────────┼──────┼───────┼──────────┼───────│
│ Green Earth Org  │Impact│Past   │12 days   │View   │
│ 🔴 Critical      │$999  │Due    │ago       │       │
└────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h3>Customer Detail Page</h3>
        
        <div class="wireframe-box">
            <strong>Customer Detail View Wireframe</strong>
            <pre>
┌────────────────────────────────────────────────────┐
│ ← Back    HOPE FOOD BANK           [Impersonate]  │
├────────────────────────────────────────────────────┤
│ ACCOUNT INFO          │  QUICK ACTIONS            │
│ ─────────────         │  [Email] [Refund] [Edit]  │
│ EIN: 12-3456789       │                           │
│ Contact: sarah@...    │  USAGE (Growth Plan)      │
│ Joined: Jan 15, 2025  │  ████████░░ 8/12 used     │
│                       │                           │
│ SUBSCRIPTION          │  SUCCESS METRICS          │
│ Plan: Growth $499/mo  │  Proposals: 47 total      │
│ Renews: Feb 15        │  Success Rate: 50%        │
│ LTV: $4,490          │  Funding: $215K secured   │
│                       │                           │
│ ENGAGEMENT            │  RECENT PROPOSALS         │
│ Last Login: 2h ago    │  1. "Youth Program Grant" │
│ Logins (30d): 18      │  2. "Capacity Building"   │
│ Health: 🟢 Healthy    │  3. "Emergency Relief"    │
│                       │                           │
│ INTERNAL NOTES (3)    │  SUPPORT HISTORY (2)      │
│ [Add Note]           │  #142: Billing question   │
│ • Called to follow... │  #128: Feature request    │
└────────────────────────────────────────────────────┘
            </pre>
        </div>

        <h2>Accessibility Requirements</h2>
        
        <table>
            <thead>
                <tr>
                    <th>Requirement</th>
                    <th>Implementation</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>WCAG 2.1 Level AA Compliance</strong></td>
                    <td>All color contrasts meet 4.5:1 ratio minimum, tested with Lighthouse</td>
                </tr>
                <tr>
                    <td><strong>Keyboard Navigation</strong></td>
                    <td>All interactive elements accessible via Tab, focus indicators visible</td>
                </tr>
                <tr>
                    <td><strong>Screen Reader Support</strong></td>
                    <td>ARIA labels on all data visualizations, meaningful alt text on charts</td>
                </tr>
                <tr>
                    <td><strong>Text Resize</strong></td>
                    <td>UI remains functional at 200% browser zoom</td>
                </tr>
            </tbody>
        </table>

        <h2>Usability Criteria</h2>
        
        <h3>Task Completion Success Rates (Target: 95%+)</h3>
        
        <ul>
            <li><strong>Find specific customer:</strong> User can locate any customer in <15 seconds using search</li>
            <li><strong>Impersonate customer:</strong> User can impersonate and view customer dashboard in <30 seconds</li>
            <li><strong>Issue refund:</strong> User can process Stripe refund in <60 seconds</li>
            <li><strong>Check key metrics:</strong> User can read MRR, churn, proposal volume in <5 seconds (no scrolling)</li>
            <li><strong>Identify at-risk customers:</strong> User can find all at-risk customers and reasoning in <20 seconds</li>
        </ul>

        <h3>Learning Curve & Onboarding</h3>
        
        <ul>
            <li><strong>New Admin User Training:</strong> 30-minute walkthrough covers all key features</li>
            <li><strong>Contextual Help:</strong> Tooltip icons (?) provide explanations for complex metrics</li>
            <li><strong>Video Tutorials:</strong> 2-3 minute Loom videos embedded in dashboard for common tasks</li>
            <li><strong>First-Time User Guide:</strong> Interactive tour on first login highlights key features</li>
        </ul>

        <h1 id="non-functional">7. Non-Functional Requirements</h1>
        
        <h2>Security Requirements</h2>
        
        <div class="warning-box">
            <strong>⚠️ Security is Critical:</strong> Super Admin panel provides access to all customer data, billing controls, and platform configuration. Security breaches could result in data theft, financial fraud, or complete platform compromise.
        </div>
        
        <h3>Authentication & Authorization</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Control</th>
                    <th>Implementation</th>
                    <th>Priority</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Two-Factor Authentication (2FA)</strong></td>
                    <td>TOTP required for all admin accounts, enforced at login</td>
                    <td>Critical</td>
                </tr>
                <tr>
                    <td><strong>Password Requirements</strong></td>
                    <td>Minimum 12 characters, must include uppercase, lowercase, number, special character</td>
                    <td>Critical</td>
                </tr>
                <tr>
                    <td><strong>Password Storage</strong></td>
                    <td>Bcrypt hashing with 12 rounds (cost factor)</td>
                    <td>Critical</td>
                </tr>
                <tr>
                    <td><strong>Session Management</strong></td>
                    <td>7-day JWT expiration, refresh tokens for extension, automatic logout on inactivity (30 min)</td>
                    <td>High</td>
                </tr>
                <tr>
                    <td><strong>IP Whitelist (Optional)</strong></td>
                    <td>Restrict admin access to known office/VPN IP addresses</td>
                    <td>Medium</td>
                </tr>
                <tr>
                    <td><strong>Failed Login Protection</strong></td>
                    <td>Lock account after 5 attempts, 15-minute cooldown, alert Super Admin</td>
                    <td>High</td>
                </tr>
            </tbody>
        </table>

        <h3>Data Encryption & Protection</h3>
        
        <ul>
            <li><strong>At Rest:</strong> PostgreSQL transparent data encryption (TDE) on Railway</li>
            <li><strong>In Transit:</strong> TLS 1.3 for all API communications, enforce HTTPS only</li>
            <li><strong>Sensitive Fields:</strong> 2FA secrets encrypted with AES-256 before database storage</li>
            <li><strong>API Keys:</strong> Stripe, Claude, SendGrid keys stored in environment variables (never in code)</li>
        </ul>

        <h3>Compliance Requirements</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Regulation</th>
                    <th>Requirement</th>
                    <th>Implementation</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>GDPR</strong></td>
                    <td>Data subject access requests</td>
                    <td>Export all customer data in machine-readable format; delete on request</td>
                </tr>
                <tr>
                    <td><strong>GDPR</strong></td>
                    <td>Right to be forgotten</td>
                    <td>Customer deletion flow with audit trail; admin sees "pending deletion" before permanent removal</td>
                </tr>
                <tr>
                    <td><strong>SOC 2 (Future)</strong></td>
                    <td>Audit logging</td>
                    <td>Comprehensive audit trail for all sensitive actions (impersonation, data access, billing changes)</td>
                </tr>
                <tr>
                    <td><strong>SOC 2 (Future)</strong></td>
                    <td>Access controls</td>
                    <td>Role-based access with principle of least privilege; regular access reviews</td>
                </tr>
            </tbody>
        </table>

        <h3>Security Testing & Validation</h3>
        
        <ul>
            <li><strong>Pre-Launch Security Audit:</strong> External consultant performs penetration testing (1 week, $2,500 budget)</li>
            <li><strong>Automated Scanning:</strong> Snyk integration for dependency vulnerability scanning</li>
            <li><strong>Regular Reviews:</strong> Quarterly security audits by lead developer</li>
            <li><strong>Bug Bounty (Future):</strong> Launch private bug bounty program at 500 customers</li>
        </ul>

        <h2>Performance Requirements</h2>
        
        <h3>Response Time Targets</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Page/Action</th>
                    <th>Target Load Time</th>
                    <th>p95 Threshold</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Dashboard (Key Metrics)</td>
                    <td><2 seconds</td>
                    <td><3 seconds</td>
                </tr>
                <tr>
                    <td>Customer List (500 records)</td>
                    <td><1.5 seconds</td>
                    <td><2.5 seconds</td>
                </tr>
                <tr>
                    <td>Customer Detail Page</td>
                    <td><1 second</td>
                    <td><2 seconds</td>
                </tr>
                <tr>
                    <td>Impersonation Token Generation</td>
                    <td><500ms</td>
                    <td><1 second</td>
                </tr>
                <tr>
                    <td>Revenue Dashboard</td>
                    <td><2 seconds</td>
                    <td><3 seconds</td>
                </tr>
                <tr>
                    <td>AI Cost Dashboard</td>
                    <td><1.5 seconds</td>
                    <td><2.5 seconds</td>
                </tr>
            </tbody>
        </table>

        <h3>Database Performance</h3>
        
        <ul>
            <li><strong>Query Optimization:</strong> All queries must complete in <100ms average</li>
            <li><strong>Indexing Strategy:</strong> Indexes on frequently queried fields (customer_id, created_at, status)</li>
            <li><strong>Caching:</strong> Redis cache for dashboard metrics (5-minute TTL)</li>
            <li><strong>Connection Pooling:</strong> Max 25 connections, efficient reuse</li>
            <li><strong>Read Replicas (Future):</strong> Separate read-only database for admin queries at 1000+ customers</li>
        </ul>

        <h2>Reliability Requirements</h2>
        
        <h3>Uptime & Availability</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Target</th>
                    <th>Monitoring</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Admin Panel Uptime</strong></td>
                    <td>99.9% (43 minutes downtime/month)</td>
                    <td>Better Uptime pings every 30 seconds</td>
                </tr>
                <tr>
                    <td><strong>API Availability</strong></td>
                    <td>99.9% for all admin endpoints</td>
                    <td>Synthetic monitoring with Checkly</td>
                </tr>
                <tr>
                    <td><strong>Database Availability</strong></td>
                    <td>99.95% (Railway SLA)</td>
                    <td>Railway built-in monitoring</td>
                </tr>
            </tbody>
        </table>

        <h3>Error Rate & Failure Tolerances</h3>
        
        <ul>
            <li><strong>API Error Rate:</strong> <0.1% of requests (1 in 1000)</li>
            <li><strong>Database Query Failures:</strong> <0.01% (1 in 10,000)</li>
            <li><strong>Impersonation Failures:</strong> <0.5% (must be highly reliable for support workflow)</li>
            <li><strong>Critical Errors:</strong> Alert team via email + Slack within 5 minutes</li>
        </ul>

        <h3>Backup & Disaster Recovery</h3>
        
        <ul>
            <li><strong>Database Backups:</strong> Automated daily backups via Railway, retained 30 days</li>
            <li><strong>Audit Log Backups:</strong> Stream to AWS S3 for long-term retention (24 months)</li>
            <li><strong>Recovery Time Objective (RTO):</strong> 4 hours to restore from backup</li>
            <li><strong>Recovery Point Objective (RPO):</strong> 24 hours of data loss acceptable (daily backups)</li>
            <li><strong>Disaster Recovery Plan:</strong> Documented runbook for restoring service, tested quarterly</li>
        </ul>

        <h3>Monitoring & Alerting</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Tool</th>
                    <th>Purpose</th>
                    <th>Alerting</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Sentry</strong></td>
                    <td>Error tracking, exception monitoring</td>
                    <td>Email + Slack for Critical errors</td>
                </tr>
                <tr>
                    <td><strong>Better Uptime</strong></td>
                    <td>Uptime monitoring, status page</td>
                    <td>SMS + Email for downtime >2 minutes</td>
                </tr>
                <tr>
                    <td><strong>Vercel Analytics</strong></td>
                    <td>Page performance, Core Web Vitals</td>
                    <td>Dashboard only (no alerts)</td>
                </tr>
                <tr>
                    <td><strong>Railway Metrics</strong></td>
                    <td>Database performance, resource usage</td>
                    <td>Email for slow queries (>1s)</td>
                </tr>
            </tbody>
        </table>

        <h2>Scalability Requirements</h2>
        
        <h3>User Growth Projections</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Timeframe</th>
                    <th>Customers</th>
                    <th>Admin Users</th>
                    <th>Proposals/Month</th>
                    <th>Scaling Strategy</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Launch (Month 3)</td>
                    <td>50</td>
                    <td>3</td>
                    <td>150</td>
                    <td>Single Vercel instance, shared DB</td>
                </tr>
                <tr>
                    <td>Month 6</td>
                    <td>100</td>
                    <td>5</td>
                    <td>400</td>
                    <td>Add Redis caching for dashboards</td>
                </tr>
                <tr>
                    <td>Month 12</td>
                    <td>200</td>
                    <td>8</td>
                    <td>1,000</td>
                    <td>Database indexing optimization</td>
                </tr>
                <tr>
                    <td>Month 24</td>
                    <td>500</td>
                    <td>15</td>
                    <td>3,000</td>
                    <td>Read replicas for admin queries</td>
                </tr>
            </tbody>
        </table>

        <h3>Infrastructure Scaling</h3>
        
        <ul>
            <li><strong>Horizontal Scaling:</strong> Vercel automatically scales frontend instances based on traffic</li>
            <li><strong>Vertical Scaling:</strong> Railway database can scale RAM/CPU as needed (currently: 2GB RAM, 1 vCPU)</li>
            <li><strong>Caching Strategy:</strong> Redis for dashboard metrics (5-min TTL), customer list (1-min TTL)</li>
            <li><strong>Query Optimization:</strong> Regular slow query analysis, add indexes proactively</li>
            <li><strong>CDN for Static Assets:</strong> Vercel's built-in CDN handles static files</li>
        </ul>

        <h1 id="success-metrics">8. Success Metrics & Analytics</h1>
        
        <h2>Key Performance Indicators (KPIs)</h2>
        
        <h3>Usage Metrics</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Definition</th>
                    <th>Target</th>
                    <th>Measurement Frequency</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Daily Active Admins</strong></td>
                    <td>Unique admin users who log in per day</td>
                    <td>100% of team (all active admins log in daily)</td>
                    <td>Daily</td>
                </tr>
                <tr>
                    <td><strong>Impersonation Usage Rate</strong></td>
                    <td>% of support tickets that use impersonation</td>
                    <td>80%+ of applicable tickets</td>
                    <td>Weekly</td>
                </tr>
                <tr>
                    <td><strong>Dashboard View Frequency</strong></td>
                    <td>Average views per admin user per day</td>
                    <td>3+ views per day (morning, midday, evening)</td>
                    <td>Daily</td>
                </tr>
                <tr>
                    <td><strong>At-Risk Dashboard Checks</strong></td>
                    <td>How often support checks at-risk customers</td>
                    <td>Daily (every business day)</td>
                    <td>Daily</td>
                </tr>
            </tbody>
        </table>

        <h3>Operational Efficiency Metrics</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Baseline</th>
                    <th>Target (6 Mo)</th>
                    <th>Business Impact</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Avg Support Ticket Resolution Time</strong></td>
                    <td>4.2 hours</td>
                    <td>2.5 hours (-40%)</td>
                    <td>$14,400/year labor savings at 100 customers</td>
                </tr>
                <tr>
                    <td><strong>Manual Reporting Hours</strong></td>
                    <td>4 hours/week</td>
                    <td>0 hours (100% automated)</td>
                    <td>$5,200/year labor savings</td>
                </tr>
                <tr>
                    <td><strong>Customer Churn Rate</strong></td>
                    <td>12% monthly</td>
                    <td>5% monthly (-7 points)</td>
                    <td>$39,900/year in saved MRR loss at 100 customers</td>
                </tr>
                <tr>
                    <td><strong>At-Risk Customer Recovery</strong></td>
                    <td>N/A (no system)</td>
                    <td>40% of flagged customers retained</td>
                    <td>Prevent 2-3 churns per month = $1,425 MRR saved</td>
                </tr>
            </tbody>
        </table>

        <h3>Product & AI Performance Metrics</h3>
        
        <ul>
            <li><strong>AI Cost Per Proposal:</strong> Reduce from $6.50 to $5.20 average (20% improvement) through monitoring and optimization</li>
            <li><strong>Grant Success Rate:</strong> Track improvement from 40% baseline to 45%+ through template iteration</li>
            <li><strong>Template Performance Variance:</strong> Identify and promote best templates, deprecate low performers</li>
            <li><strong>Customer Satisfaction (Indirect):</strong> CSAT score improves from 72% to 85%+ due to better support</li>
        </ul>

        <h2>Analytics Implementation</h2>
        
        <h3>Event Tracking Requirements</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Event</th>
                    <th>Trigger</th>
                    <th>Properties Tracked</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>admin_login</code></td>
                    <td>Admin user successfully logs in</td>
                    <td>admin_user_id, role, 2fa_enabled, ip_address, timestamp</td>
                </tr>
                <tr>
                    <td><code>customer_viewed</code></td>
                    <td>Admin opens customer detail page</td>
                    <td>admin_user_id, customer_id, view_duration_seconds</td>
                </tr>
                <tr>
                    <td><code>impersonation_started</code></td>
                    <td>Admin clicks "Impersonate" button</td>
                    <td>admin_user_id, customer_id, timestamp, reason (optional)</td>
                </tr>
                <tr>
                    <td><code>impersonation_ended</code></td>
                    <td>Admin exits impersonation or session expires</td>
                    <td>admin_user_id, customer_id, duration_seconds, pages_viewed</td>
                </tr>
                <tr>
                    <td><code>refund_issued</code></td>
                    <td>Admin processes Stripe refund</td>
                    <td>admin_user_id, customer_id, amount_cents, reason</td>
                </tr>
                <tr>
                    <td><code>at_risk_viewed</code></td>
                    <td>Admin opens at-risk dashboard</td>
                    <td>admin_user_id, at_risk_count, timestamp</td>
                </tr>
                <tr>
                    <td><code>dashboard_viewed</code></td>
                    <td>Admin loads main dashboard</td>
                    <td>admin_user_id, load_time_ms, timestamp</td>
                </tr>
                <tr>
                    <td><code>feature_flag_changed</code></td>
                    <td>Developer toggles feature flag</td>
                    <td>admin_user_id, flag_name, enabled_status, rollout_percentage</td>
                </tr>
            </tbody>
        </table>

        <h3>Dashboard & Reporting Needs</h3>
        
        <ul>
            <li><strong>Internal Analytics Dashboard:</strong> Mixpanel workspace for admin panel usage (separate from customer analytics)</li>
            <li><strong>Weekly Automated Report:</strong> Email to founders every Monday with: MRR, churn, proposal volume, AI costs, support metrics</li>
            <li><strong>Quarterly Business Review:</strong> Comprehensive deck with cohort analysis, success rate trends, ROI calculations</li>
            <li><strong>Real-Time Alerts:</strong> Slack notifications for: critical errors, churn events, AI cost thresholds, unusual activity</li>
        </ul>

        <h2>Success Measurement & Review Process</h2>
        
        <h3>Launch Success Criteria (Week 6)</h3>
        
        <div class="success-box">
            <strong>✅ Ready to Launch When:</strong>
            <ul>
                <li>All must-have features functional and tested</li>
                <li>Security audit completed with no critical vulnerabilities</li>
                <li>Dashboard loads in <3 seconds with 50 customers</li>
                <li>Impersonation works reliably (0 failures in 20 test cases)</li>
                <li>All admin team members trained and comfortable using tools</li>
                <li>Monitoring and alerting configured and tested</li>
            </ul>
        </div>

        <h3>30-Day Post-Launch Review</h3>
        
        <p><strong>Focus:</strong> Adoption, bugs, quick wins</p>
        <ul>
            <li>Are all admin team members logging in daily?</li>
            <li>Is impersonation being used? If not, why?</li>
            <li>Any critical bugs or performance issues?</li>
            <li>Quick feature requests that would dramatically improve workflow?</li>
        </ul>

        <h3>90-Day Post-Launch Review</h3>
        
        <p><strong>Focus:</strong> Impact, efficiency gains, ROI</p>
        <ul>
            <li>Has support ticket resolution time improved by 30%+?</li>
            <li>Are we catching at-risk customers proactively?</li>
            <li>Has churn rate started declining?</li>
            <li>Is manual reporting eliminated?</li>
            <li>What v2.0 features should we prioritize?</li>
        </ul>

        <h3>6-Month Post-Launch Review</h3>
        
        <p><strong>Focus:</strong> Business outcomes, scaling readiness</p>
        <ul>
            <li>Churn rate: Did we hit <5% target?</li>
            <li>Support efficiency: Can we handle 200 customers with same team?</li>
            <li>AI optimization: Did we reduce cost per proposal by 15%+?</li>
            <li>ROI calculation: Has investment paid for itself?</li>
            <li>Scaling plan: What needs to happen before 500 customers?</li>
        </ul>

        <h1 id="implementation">9. Implementation Plan</h1>
        
        <h2>Development Phases</h2>
        
        <h3>Week 1-2: Foundation & Security</h3>
        
        <div class="epic-card">
            <div class="epic-title">🔐 Security & Infrastructure Sprint</div>
            <p><strong>Priority:</strong> <span class="priority-high">Critical</span> - Nothing else can be built without this foundation</p>
            
            <p><strong>Deliverables:</strong></p>
            <ul>
                <li>Separate subdomain setup (admin.grantbot.com) on Vercel</li>
                <li>Admin user authentication system with 2FA (NextAuth.js + Authy)</li>
                <li>Role-based access control (Super Admin, Support, Developer, Read-Only)</li>
                <li>Audit logging system (database table + middleware)</li>
                <li>JWT token generation for admin sessions</li>
                <li>Security middleware for all API routes</li>
                <li>IP whitelist configuration (optional, for enhanced security)</li>
            </ul>
            
            <p><strong>Testing Focus:</strong></p>
            <ul>
                <li>2FA cannot be bypassed</li>
                <li>Roles correctly restrict access to endpoints</li>
                <li>All sensitive actions logged to audit trail</li>
                <li>Failed login protection works (5 attempts = 15 min lockout)</li>
            </ul>
            
            <p><strong>Developer Assignment:</strong> Both developers (parallel work)</p>
            <p><strong>Story Points:</strong> 34 points</p>
        </div>

        <h3>Week 3-4: Customer Management</h3>
        
        <div class="epic-card">
            <div class="epic-title">👥 Customer Support Tools Sprint</div>
            <p><strong>Priority:</strong> <span class="priority-high">Critical</span> - Core value for support team</p>
            
            <p><strong>Deliverables:</strong></p>
            <ul>
                <li>Customer list view (searchable, filterable, sortable table)</li>
                <li>Customer detail page (comprehensive profile view)</li>
                <li>Impersonation system (token generation, session management, audit logging)</li>
                <li>Customer notes (internal-only annotations)</li>
                <li>Manual billing actions (refunds, credits, plan changes)</li>
                <li>Support ticket history integration</li>
            </ul>
            
            <p><strong>Testing Focus:</strong></p>
            <ul>
                <li>Can find any customer in <15 seconds</li>
                <li>Impersonation shows correct customer view</li>
                <li>Impersonation banner always visible</li>
                <li>All impersonation actions logged</li>
                <li>Manual billing actions sync with Stripe correctly</li>
            </ul>
            
            <p><strong>Developer Assignment:</strong> Dev 1: List/detail views | Dev 2: Impersonation system</p>
            <p><strong>Story Points:</strong> 42 points</p>
        </div>

        <h3>Week 5-6: Business Intelligence</h3>
        
        <div class="epic-card">
            <div class="epic-title">📊 Analytics & Revenue Dashboards Sprint</div>
            <p><strong>Priority:</strong> <span class="priority-high">Critical</span> - Core value for leadership</p>
            
            <p><strong>Deliverables:</strong></p>
            <ul>
                <li>Main dashboard (MRR, churn, proposal volume, key metrics at a glance)</li>
                <li>Revenue dashboard (MRR breakdown, growth trends, ARR projection)</li>
                <li>Churn analytics (monthly rate, reasons, voluntary vs involuntary)</li>
                <li>At-risk customer dashboard (engagement-based scoring, proactive alerts)</li>
                <li>Cohort analysis (retention by signup month, LTV by cohort)</li>
                <li>Data caching layer (Redis for dashboard performance)</li>
            </ul>
            
            <p><strong>Testing Focus:</strong></p>
            <ul>
                <li>Dashboard loads in <3 seconds</li>
                <li>MRR calculations match Stripe exactly</li>
                <li>At-risk algorithm correctly identifies low-engagement customers</li>
                <li>Cohort retention numbers accurate</li>
                <li>Graphs render correctly on mobile</li>
            </ul>
            
            <p><strong>Developer Assignment:</strong> Dev 1: Dashboards | Dev 2: Data aggregation & caching</p>
            <p><strong>Story Points:</strong> 34 points</p>
        </div>

        <h3>Week 7: AI Performance & Costs</h3>
        
        <div class="epic-card">
            <div class="epic-title">🤖 AI Analytics Sprint</div>
            <p><strong>Priority:</strong> <span class="priority-medium">High</span> - Important for product optimization</p>
            
            <p><strong>Deliverables:</strong></p>
            <ul>
                <li>AI cost dashboard (total spend, cost per proposal, budget tracking)</li>
                <li>Cost alerts (email notifications at threshold amounts)</li>
                <li>Success rate tracking (proposals submitted vs funded)</li>
                <li>Template performance leaderboard (usage, success rate, costs)</li>
                <li>AI quality metrics (satisfaction ratings, editing patterns)</li>
            </ul>
            
            <p><strong>Testing Focus:</strong></p>
            <ul>
                <li>Cost calculations match Claude API invoices</li>
                <li>Alerts trigger at correct thresholds</li>
                <li>Template comparison is accurate</li>
                <li>Success rate calculation handles user-reported data correctly</li>
            </ul>
            
            <p><strong>Developer Assignment:</strong> Dev 1: Cost tracking | Dev 2: Success metrics</p>
            <p><strong>Story Points:</strong> 21 points</p>
        </div>

        <h3>Week 8: Testing, Security Audit, Launch</h3>
        
        <div class="epic-card">
            <div class="epic-title">🚀 Launch Preparation Sprint</div>
            <p><strong>Priority:</strong> <span class="priority-high">Critical</span> - Must complete before production use</p>
            
            <p><strong>Deliverables:</strong></p>
            <ul>
                <li>Comprehensive user acceptance testing (UAT) with founders and support team</li>
                <li>External security audit by consultant (penetration testing, vulnerability scan)</li>
                <li>Performance optimization (query tuning, caching, image optimization)</li>
                <li>Monitoring setup (Sentry, Better Uptime, alerting configuration)</li>
                <li>Team training (30-minute walkthrough, video tutorials recorded)</li>
                <li>Documentation (feature guides, troubleshooting runbooks)</li>
                <li>Production deployment and smoke testing</li>
            </ul>
            
            <p><strong>Launch Checklist:</strong></p>
            <ul>
                <li>✅ Security audit passed (no critical or high-severity issues)</li>
                <li>✅ All team members trained and have 2FA configured</li>
                <li>✅ Performance targets met (dashboard <3s, customer list <2s)</li>
                <li>✅ Monitoring active and tested (errors trigger alerts)</li>
                <li>✅ Database backups verified (can restore from backup)</li>
                <li>✅ Runbooks documented for common issues</li>
            </ul>
            
            <p><strong>Developer Assignment:</strong> Both developers (full team effort)</p>
            <p><strong>Story Points:</strong> 13 points (mostly testing and documentation)</p>
        </div>

        <h2>Resource Allocation</h2>
        
        <h3>Team Composition & Responsibilities</h3>
        
        <table>
            <thead>
                <tr>
                    <th>Role</th>
                    <th>Name/Assignment</th>
                    <th>Responsibilities</th>
                    <th>Time Commitment</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Full-Stack Developer 1</strong></td>
                    <td>TBD / Existing team member</td>
                    <td>Frontend UI components, dashboard layouts, data visualization, customer management pages</td>
                    <td>Full-time (8 weeks)</td>
                </tr>
                <tr>
                    <td><strong>Full-Stack Developer 2</strong></td>
                    <td>TBD / Existing team member</td>
                    <td>Backend API endpoints, database queries, authentication, audit logging, Stripe integration</td>
                    <td>Full-time (8 weeks)</td>
                </tr>
                <tr>
                    <td><strong>UI/UX Designer</strong></td>
                    <td>TBD / Contract designer</td>
                    <td>Dashboard wireframes, data visualization design, responsive layouts, component specifications</td>
                    <td>Part-time (20 hours total over Weeks 1-3)</td>
                </tr>
                <tr>
                    <td><strong>Product Manager</strong></td>
                    <td>Founder / existing PM</td>
                    <td>Requirements clarification, stakeholder alignment, sprint planning, acceptance criteria validation</td>
                    <td>5-10 hours/week</td>
                </tr>
                <tr>
                    <td><strong>QA / Testing</strong></td>
                    <td>Founders + Support team</td>
                    <td>User acceptance testing, bug reporting, workflow validation</td>
                    <td>Week 8 focus (10-15 hours total)</td>
                </tr>
                <tr>
                    <td><strong>Security Consultant</strong></td>
                    <td>External contractor</td>
                    <td>Penetration testing, security audit, vulnerability assessment, remediation guidance</td>
                    <td>1 week engagement (Week 8)</td>
                </tr>
            </tbody>
        </table>

        <h2>Risk Mitigation Plan</h2>
        
        <div class="warning-box">
            <h3>⚠️ Top Risks & Mitigation Strategies</h3>
            
            <h4>Risk 1: Security Vulnerability Discovered Post-Launch</h4>
            <p><strong>Probability:</strong> Medium | <strong>Impact:</strong> Critical</p>
            <p><strong>Mitigation:</strong></p>
            <ul>
                <li>External security audit BEFORE launch (Week 8)</li>
                <li>Automated dependency scanning (Snyk)</li>
                <li>Bug bounty program at 500 customers</li>
                <li>Incident response plan documented</li>
            </ul>
            <p><strong>Contingency:</strong> Take admin panel offline immediately, investigate, patch within 24 hours, notify team and affected stakeholders</p>
            
            <h4>Risk 2: Performance Degrades as Customer Count Grows</h4>
            <p><strong>Probability:</strong> High | <strong>Impact:</strong> Medium</p>
            <p><strong>Mitigation:</strong></p>
            <ul>
                <li>Load testing before launch (simulate 500 customers)</li>
                <li>Database indexing strategy documented</li>
                <li>Redis caching for expensive queries</li>
                <li>Performance monitoring alerts</li>
            </ul>
            <p><strong>Contingency:</strong> Add database read replicas, increase Railway plan tier, optimize slow queries, paginate large result sets</p>
            
            <h4>Risk 3: Team Doesn't Adopt New Tools</h4>
            <p><strong>Probability:</strong> Low | <strong>Impact:</strong> High</p>
            <p><strong>Mitigation:</strong></p>
            <ul>
                <li>Involve support team in design decisions (Week 3-4)</li>
                <li>Training sessions before launch</li>
                <li>Video tutorials for common workflows</li>
                <li>Track usage metrics first 30 days</li>
            </ul>
            <p><strong>Contingency:</strong> 1-on-1 coaching sessions, identify friction points, rapid iteration on UX issues</p>
            
            <h4>Risk 4: Scope Creep Delays Launch</h4>
            <p><strong>Probability:</strong> Medium | <strong>Impact:</strong> High</p>
            <p><strong>Mitigation:</strong></p>
            <ul>
                <li>Strict "must have" vs "nice to have" definition</li>
                <li>Product Manager enforces scope freeze after Week 1</li>
                <li>Feature requests logged for v2.0, not MVP</li>
                <li>Weekly sprint reviews with stakeholders</li>
            </ul>
            <p><strong>Contingency:</strong> Cut "should have" features if timeline slips beyond Week 8</p>
        </div>

        <h1 id="risks">10. Risk Assessment & Mitigation</h1>
        
        <h2>Technical Risks</h2>
        
        <table>
            <thead>
                <tr>
                    <th>Risk</th>
                    <th>Probability</th>
                    <th>Impact</th>
                    <th>Mitigation</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Impersonation System Exploited</strong></td>
                    <td>Low</td>
                    <td>Critical</td>
                    <td>Comprehensive audit logging, 1-hour session expiration, security audit focus area, restrict to Support/Super Admin roles only</td>
                </tr>
                <tr>
                    <td><strong>Database Performance Bottleneck</strong></td>
                    <td>Medium</td>
                    <td>High</td>
                    <td>Index all frequently queried fields, implement caching layer, monitor slow queries proactively, load test before launch</td>
                </tr>
                <tr>
                    <td><strong>Data Aggregation Inaccuracy</strong></td>
                    <td>Medium</td>
                    <td>High</td>
                    <td>Comprehensive unit tests for calculations, cross-check with Stripe data, weekly spot checks of key metrics</td>
                </tr>
                <tr>
                    <td><strong>Third-Party API Failures (Stripe)</strong></td>
                    <td>Low</td>
                    <td>Medium</td>
                    <td>Graceful error handling, retry logic with exponential backoff, fallback to cached data when possible</td>
                </tr>
                <tr>
                    <td><strong>Unauthorized Access to Admin Panel</strong></td>
                    <td>Low</td>
                    <td>Critical</td>
                    <td>2FA mandatory, IP whitelist (optional), failed login protection, security monitoring alerts</td>
                </tr>
            </tbody>
        </table>

        <h2>Business Risks</h2>
        
        <table>
            <thead>
                <tr>
                    <th>Risk</th>
                    <th>Probability</th>
                    <th>Impact</th>
                    <th>Mitigation</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Low Team Adoption</strong></td>
                    <td>Low</td>
                    <td>High</td>
                    <td>Involve team in design, prioritize their pain points, comprehensive training, track usage metrics, iterate quickly on feedback</td>
                </tr>
                <tr>
                    <td><strong>ROI Not Realized</strong></td>
                    <td>Low</td>
                    <td>High</td>
                    <td>Set clear success metrics upfront, 30/60/90-day reviews, measure baseline metrics before launch for comparison</td>
                </tr>
                <tr>
                    <td><strong>Scope Creep Delays Launch</strong></td>
                    <td>Medium</td>
                    <td>Medium</td>
                    <td>Strict scope freeze after Week 1, Product Manager enforces "must have" vs "nice to have", defer non-critical features to v2.0</td>
                </tr>
                <tr>
                    <td><strong>Timeline Slippage</strong></td>
                    <td>Medium</td>
                    <td>Medium</td>
                    <td>20% buffer built into estimates, daily standups to identify blockers, parallel workstreams where possible</td>
                </tr>
            </tbody>
        </table>

        <h2>Compliance & Legal Risks</h2>
        
        <table>
            <thead>
                <tr>
                    <th>Risk</th>
                    <th>Probability</th>
                    <th>Impact</th>
                    <th>Mitigation</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>GDPR Violation (Data Access)</strong></td>
                    <td>Low</td>
                    <td>Critical</td>
                    <td>Audit log for all customer data access, data retention policies documented, GDPR deletion workflow implemented</td>
                </tr>
                <tr>
                    <td><strong>SOC 2 Compliance Gap</strong></td>
                    <td>Medium</td>
                    <td>Medium</td>
                    <td>Build audit trail now (SOC 2 requirement), document access controls, plan for formal audit at 500 customers</td>
                </tr>
                <tr>
                    <td><strong>Unauthorized Data Export</strong></td>
                    <td>Low</td>
                    <td>High</td>
                    <td>Export actions logged to audit trail, rate limits on API endpoints, restrict export permissions to Super Admin role</td>
                </tr>
            </tbody>
        </table>

        <h2>Contingency Plans</h2>
        
        <h3>If Launch is Delayed Beyond Week 8:</h3>
        <ul>
            <li><strong>Partial Launch:</strong> Ship Customer Management (Epic 1) + Basic Dashboard only, defer AI analytics to v1.1</li>
            <li><strong>Extended Timeline:</strong> Add 2 weeks for critical bugs, but enforce hard deadline at Week 10</li>
            <li><strong>Resource Augmentation:</strong> Bring in contract developer if key team member unavailable</li>
        </ul>

        <h3>If Security Audit Fails:</h3>
        <ul>
            <li><strong>Immediate:</strong> Fix critical vulnerabilities before production launch (no exceptions)</li>
            <li><strong>Medium Priority:</strong> Fix high-severity issues within 1 week post-launch</li>
            <li><strong>Low Priority:</strong> Address medium/low issues in regular sprint cycles</li>
            <li><strong>Escalation:</strong> If audit reveals fundamental architecture issues, delay launch for redesign</li>
        </ul>

        <h3>If Performance Targets Not Met:</h3>
        <ul>
            <li><strong>Database Optimization:</strong> Add missing indexes, optimize complex queries, implement query caching</li>
            <li><strong>Infrastructure Upgrade:</strong> Scale Railway database tier (more RAM/CPU)</li>
            <li><strong>Code Optimization:</strong> Profile slow endpoints, implement lazy loading, reduce API payload sizes</li>
            <li><strong>Degrade Gracefully:</strong> If optimization takes >1 week, launch with "performance improvements coming soon" notice</li>
        </ul>

        <div class="success-box">
            <h2>✅ Final Launch Readiness Checklist</h2>
            <ul>
                <li>☐ All must-have features complete and tested</li>
                <li>☐ Security audit passed (no critical/high vulnerabilities)</li>
                <li>☐ Performance targets met (dashboard <3s, customer list <2s)</li>
                <li>☐ All admin team members trained and 2FA configured</li>
                <li>☐ Monitoring and alerting tested (errors trigger notifications)</li>
                <li>☐ Database backups verified (successful restore test)</li>
                <li>☐ Documentation complete (feature guides, runbooks)</li>
                <li>☐ Incident response plan documented</li>
                <li>☐ Rollback plan prepared (if critical bugs discovered)</li>
                <li>☐ Stakeholder sign-off obtained (founders approve launch)</li>
            </ul>
        </div>

        <hr style="margin: 60px 0; border: 2px solid #1F4788;">

        <div class="highlight-box" style="text-align: center;">
            <h2 style="color: #1F4788; margin-bottom: 10px;">🎯 Document Complete</h2>
            <p style="font-size: 1.2em; margin-bottom: 20px;">This PRD provides a complete specification for building GrantBot's Super Admin Panel.</p>
            <p><strong>Next Steps:</strong></p>
            <p>1. Review with engineering team for technical feasibility</p>
            <p>2. Get stakeholder sign-off on scope and timeline</p>
            <p>3. Begin Week 1 sprint (Security & Infrastructure)</p>
            <p>4. Track progress against 8-week timeline</p>
            <p style="margin-top: 30px; font-style: italic; color: #666;">Questions? Contact the Product Manager or refer to the GrantBot 90-Day MVP Roadmap for additional context.</p>
        </div>
    </div>
</body>
</html>
